#!/usr/bin/env bash

function load_dotfiles() {
  local file
  local dotfiles_directory="${HOME}/dotfiles"
  local -a dotfiles=(
    "assets/paths"
    "bash/bash_prompt"
    "assets/options"
    "assets/exports"
    "assets/aliases"
    "assets/functions"
    "bash/bash_completions"
  )

  for file in "${dotfiles[@]}"; do
    if [[ -r "${dotfiles_directory}/${file}" ]]; then
      # shellcheck source=/dev/null
      source "${dotfiles_directory}/${file}"
    fi
  done
}

load_dotfiles
unset load_dotfiles

# Enable tab completion for `g` by marking it as an alias for `git`
if type _git &> /dev/null; then
  complete -o default -o nospace -F _git g;
fi;


# if [ -e "${HOME}/.config/broot/launcher/bash/br" ]; then
#   source "${HOME}/.config/broot/launcher/bash/br"
# elif type -P "broot"; then
#   broot --install &> /dev/null
#   source "${HOME}/.config/broot/launcher/bash/br"
# fi

# pyenv init
if command -v pyenv &>/dev/null; then
  eval "$(pyenv init -)"
fi

# pyenv virtualenv init
if command -v pyenv-virtualenv-init &> /dev/null; then
  eval "$(pyenv virtualenv-init -)"
fi

# Pip auto-complete
if command -v pip &> /dev/null; then
  eval "$(pip completion --bash)"
fi
